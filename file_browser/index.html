<!DOCTYPE html>
<html ng-app="MyAPI_Connector">
   <head>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
         <title>File Browser</title>
         <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
         <link rel="stylesheet" type="text/css" href="../mystyle.css">
         <link rel="stylesheet" href="common/css/normalize.min.css">
         <link rel="stylesheet" href="common/css/main.min.css">
         <link rel="stylesheet" href="common/css/bootstrap.min.css">
         <link rel="stylesheet" href="common/css/bootstrap-responsive.min.css">
         <link rel="stylesheet" href="common/css/elasticjs.css">
         <script src="common/lib/modernizr-2.6.1.min.js"></script>
         <script src="common/lib/underscore.min.js"></script>
         <!-- project dependency libs -->
         <script src="common/lib/angular.min.js"></script>
         <script src="elasticsearch-js/elasticsearch.js"></script>
         <script src="elasticsearch-js/elasticsearch.angular.js"></script>
         
         <!-- project specific files -->
         <script src="js/app.essimple.js"></script>
         
         <!-- manifest download -->
         <script src="common/js/filesaver.min.js"></script>
         
         <!-- pie chart -->
         <script src="common/js/loader.js"></script>

   	</meta>

      <!--Clever Canary required header documents-->

      <link rel="stylesheet" href="https://clevercanary.github.io/ucsc-cgl-style-guide/styles/styles.css">

      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">



      <!-- Clever Canary Icons -->

      <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-57x57.png" />
      <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-114x114.png" />
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-72x72.png" />
      <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-144x144.png" />
      <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-60x60.png" />
      <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-120x120.png" />
      <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-76x76.png" />
      <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/apple-touch-icon-152x152.png" />
      <link rel="icon" type="image/png" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/favicon-196x196.png" sizes="196x196" />
      <link rel="icon" type="image/png" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/favicon-96x96.png" sizes="96x96" />
      <link rel="icon" type="image/png" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/favicon-32x32.png" sizes="32x32" />
      <link rel="icon" type="image/png" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/favicon-16x16.png" sizes="16x16" />
      <link rel="icon" type="image/png" href="https://clevercanary.github.io/ucsc-cgl-style-guide/images/favicon/favicon-128.png" sizes="128x128" />
      <meta name="msapplication-TileColor" content="#FFFFFF" />
      <meta name="msapplication-TileImage" content="mstile-144x144.png" />
      <meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
      <meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
      <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
      <meta name="msapplication-square310x310logo" content="mstile-310x310.png" />
   </head>
   
   <!--
   <div class="imgcgl">
      <div class="imgcontainer">
         <a href="https://genomics.soe.ucsc.edu/">
            <img src="../UCSC-Logo-genomics-web-80.png" alt="University of California Santa Cruz" class="imglogo" style="padding: 10px">
         </a>
      </div>
      <div class="cglcontainer" style="float: right;">
         <a href="https://cgl.genomics.ucsc.edu/" class="text">Computational Genomics Laboratory</a>
      </div>
   </div>
   <ul class="header text">
      <li class="dropbtn"><a href="../index.html">Home</a></li>

      <li><a href="index.html">File Browser</a></li>
      <li><a href="../action_service/index.html">Action Service</a></li>
      <li><a href="https://ucsc-cgl.atlassian.net/wiki/">Wiki</a></li>
      <li><a href="../about.html">About</a></li>
      <li><a href="../help.html">Help</a></li>
   </ul>
   
    -->
   <body ng-controller="API_Controller">
      
   
      <div class="cgl-app layout-column layout-fill">
         <header>
                <md-toolbar>
                    <md-toolbar-row>
                        <img src="https://clevercanary.github.io/ucsc-cgl-style-guide/images/logos/ucsc-gi/logo-ucsc-gi@1x.png" srcset="/ucsc-cgl-style-guide/images/logos/ucsc-gi/logo-ucsc-gi@2x.png 2x, /ucsc-cgl-style-guide/images/logos/ucsc-gi/logo-ucsc-gi@3x.png 3x">
                        <button md-icon-button menu-open>
                        <span class="md-button-wrapper">
                            <md-icon role="img" class="material-icons">menu</md-icon>
                        </span>
                        </button>
                        <button md-icon-button menu-close>
                        <span class="md-button-wrapper">
                            <md-icon role="img" class="material-icons">close</md-icon>
                        </span>
                        </button>
                        <cgl-toolbar-nav>
                            <cgl-toolbar-nav-item>
                                <a href="#">Analysis Core</a>
                            </cgl-toolbar-nav-item>
                            <cgl-toolbar-nav-item class="active">
                                <a href="index.html">File Browser</a>
                            </cgl-toolbar-nav-item>
                            <cgl-toolbar-nav-item>
                                <a href="../action_service/index.html">Action Service</a>
                            </cgl-toolbar-nav-item>
                            <cgl-toolbar-nav-item>
                                <a href="https://ucsc-cgl.atlassian.net/wiki/">Wiki</a>
                            </cgl-toolbar-nav-item>
                            <cgl-toolbar-nav-item>
                                <a href="../about.html">About</a>
                            </cgl-toolbar-nav-item>
                            <cgl-toolbar-nav-item>
                                <a href="../help.html">Help</a>
                            </cgl-toolbar-nav-item>
                        </cgl-toolbar-nav>
                    </md-toolbar-row>
                </md-toolbar>
                <md-toolbar class="subheader">
                    <md-toolbar-row>
                        <span class="md-title">File Browser</span>
                    </md-toolbar-row>
                </md-toolbar>
            </header>  
         <div class="container-fluid">
            <div class="row-fluid"> 
               <div class="span2 well text">
                  <ul class="nav nav-sidebar">
                     <li class="divider"></li>
                     
                        <li class="nav-header">Center</li>
                        <div ng-repeat="item in results.centerName.terms">
                           <input type="checkbox" ng-checked="hasCheck('center_name', item['term'])" ng-click="checking('center_name', item['term'])">
                              {{item['term']}} <span class="muted">{{item['count']}}</span>
                           </input>
                        </div>
                        <li class="divider"></li> 
                        
<!-- 
                        <li class="nav-header">Program</li>
                        <div ng-repeat="item in results.program.buckets">
                           <input type="checkbox" ng-checked="hasCheck('program', item['key'])" ng-click="checking('program', item['key'])">
                              {{item['key']}} <span class="muted">{{item['doc_count']}}</span>
                           </input>  
                        </div>
                        <li class="divider"></li> 
-->
      
                        <li class="nav-header">Project</li>
                        <div ng-repeat="item in results.projectCode.terms">
                           <input type="checkbox" ng-checked="hasCheck('project', item['term'])" ng-click="checking('project', item['term'])">
                              {{item['term']}} <span class="muted">{{item['count']}}</span>
                           </input>  
                        </div>
                        <li class="divider"></li> 
      
                        <li class="nav-header">Workflow</li>
                        <div ng-repeat="item in results.workFlow.terms">
                           <input type="checkbox" ng-checked="hasCheck('workflow', item['term'])" ng-click="checking('workflow', item['term'])">
                              {{item['term']}} <span class="muted">{{item['count']}}</span>
                           </input>    
                        </div>
                        <li class="divider"></li> 
         
                        <li class="nav-header">Analysis Type</li>
                        <div ng-repeat="item in results.analysisType.terms">
                           <input type="checkbox" ng-checked="hasCheck('analysis_type', item['term'])"  ng-click="checking('analysis_type', item['term'])">
                              {{item['term']}} <span class="muted">{{item['count']}}</span>
                           </input>    
                        </div>
                        <li class="divider"></li> 
         
                        <li class="nav-header">Specimen Type</li>
                        <div ng-repeat="item in results.specimenType.terms">
                           <input type="checkbox" ng-checked="hasCheck('specimen_type', item['term'])" ng-click="checking('specimen_type', item['term'])">
                              {{item['term']}} <span class="muted">{{item['count']}}</span>
                           </input>    
                        </div>
                        <li class="divider"></li>         
         
                        <li class="nav-header">File Type</li>
                        <div ng-repeat="item in results.fileFormat.terms">
                           <input type="checkbox" ng-checked="hasCheck('file_type', item['term'])" ng-click="checking('file_type', item['term'])">
                              {{item['term']}} <span class="muted">{{item['count']}}</span>
                           </input> 
                        </div>
                        <li class="divider"></li>    
                         
                     <li class="divider"></li>     
                  </ul>
               </div>
               
               <center>
               <table>
                  <td id="piechartWorkflow"></td>
                  <td id="piechartAnalysis"></td>
                  <td id="piechartFile"></td>
               </table>
               </center>
               <hr>
               
               <div class="span5 text">
                  <div class="table-responsive">
                     <table class="table table-striped">
         
                        <thead>
                           <tr>
                              <th>Project</th>
                              <th>Donor</th>
                              <th>Specimen Type</th>
                              <th>Analysis Type</th>
                              <th>Workflow</th>
                              <th>File Type</th>
                              <th>File</th>
                              <th>Download ID</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr ng-repeat="item in hits">
                              <td>{{item['donors'][0]['projectCode']}}</td>
                              <td>{{item['donors'][0]['donorId']}}</td>
                              <td>{{item['donors'][0]['specimenType'][0]}}</td>
                              <td>{{item['dataCategorization']['dataType']}}</td>
                              <td>{{item['dataCategorization']['experimentalStrategy']}}</td>
                              <td>{{item['fileCopies'][0]['indexFile']['fileFormat']}}</td>
                              <td>{{item['fileCopies'][0]['indexFile']['fileName']}}</td>
                              <td>{{item['fileCopies'][0]['indexFile']['objectId']}}</td>
                           </tr>
                        </tbody>
                  
                     </table>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <center class="text">
         <div>  
            <button class="button text" ng-click="refresh(-1);" ng-show="backPages"> {{back}} </span></button>
               <span placeholder="{{next}}"> <button class="button" ng-show="nextPages" ng-click="refresh(1);">{{next}} </button>
                  Page: {{offset}} {{of}} {{poutof}}
               </span>
            <button class="button text"><span ng-click="downloadfile();">Download Manifest</span></button>
         </div>
      </center>
      
      
      

   
      <footer class="text">
         <section style="color: white">UCSC Genomics Institute - Analysis Core
            <ul class="header" style="float: right; font-size:50%; padding: 4px;">
               <li><a href="index.html">Home</a></li>
               <li><a href="https://ucsc-cgl.atlassian.net/wiki/">Wiki</a></li>
               <li><a href="about.html">About</a></li>
            </ul>
         </section>
      </footer>
      
   </body>

   <script type="text/javascript" src="https://clevercanary.github.io/ucsc-cgl-style-guide/scripts/cgl-hamburger.component.js"></script>
</html>
